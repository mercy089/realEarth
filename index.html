<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Realistic Earth - Day/Night Lighting System</title>

  <style>
    /* === VIEWPORT RESPONSIVE SETUP === */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    @font-face {
      font-family: 'AbodeFont';
      src: url('./font/Abode-Light.ttf') format('truetype');
    }

    /* Full viewport coverage - no scrollbars, perfect fit */
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      /* Prevent scrollbars for immersive full-screen experience */
      font-family: 'AbodeFont', Arial, sans-serif;
    }

    /* Canvas takes full viewport space - responsive to any screen size */
    canvas {
      display: block;
      position: fixed;
      /* Fixed positioning ensures full viewport coverage */
      top: 0;
      left: 0;
      width: 100vw !important;
      /* Force full viewport width - responsive */
      height: 100vh !important;
      /* Force full viewport height - responsive */
    }

    /* Responsive text labels that scale with viewport size */
    #labels {
      font-family: 'AbodeFont', Arial, sans-serif;
      position: fixed;
      /* Fixed positioning relative to viewport */
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: clamp(40px, 8vw, 80px);
      /* Responsive font size - scales with viewport */
      z-index: 10;
      pointer-events: none;
      letter-spacing: 3px;
      display: none;
      text-align: center;
      text-shadow:
        -2px -2px 0 #000,
        2px -2px 0 #000,
        -2px 2px 0 #000,
        2px 2px 0 #000;
    }

    /* Responsive Sanskrit text positioning */
    #labels::after {
      content: "पृथ्वीकुल";
      display: block;
      margin-left: clamp(50px, 15vw, 180px);
      /* Responsive margin based on viewport */
      margin-top: clamp(-15px, -2vw, -20px);
      /* Responsive top margin */
      color: rgb(255, 72, 0);
      font-size: clamp(30px, 6vw, 60px);
      /* Responsive font size */
      text-shadow:
        -2px -2px 0 #000,
        2px -2px 0 #000,
        -2px 2px 0 #000,
        2px 2px 0 #000;
    }

    /* Mobile responsiveness - tablet view */
    @media (max-width: 768px) {
      #labels {
        letter-spacing: 1px;
      }
    }

    /* Mobile responsiveness - phone view */
    @media (max-width: 480px) {
      #labels {
        letter-spacing: 0.5px;
      }
    }

    /* === GLASS NAVIGATION BAR === */
    .glass-navbar {
      position: fixed;
      /* bottom: 20px;
      left: 50%;
      transform: translateX(-50%); */
      bottom: 5vh;
      left: 5vw;
      right: 5vw;
      height: 10vh;
      z-index: 999;
      /* Glass morphism effect */
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50px;
      padding: 12px 20px;

      /* Smooth transitions */
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

      /* Responsive width */
      width: clamp(80vw, 400px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      /* gap: 15px; */

      /* Subtle shadow */
      box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    /* .glass-navbar:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateX(-50%) translateY(-2px);
      box-shadow: 
        0 12px 40px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    } */

    /* Glass Button Styling */
    .glass-btn {
      margin: 2vw;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 25px;
      padding: 20px 40px;
      color: white;
      font-family: Arial, sans-serif;
      font-size: clamp(14px, 2.5vw, 16px);
      font-weight: 500;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      min-width: 100px;
      justify-content: center;
      text-align: center;
    }

    .glass-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      border-color: rgba(255, 255, 255, 0.4);
      transform: translateY(-1px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    .glass-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    /* Language Button Specific Styling */
    .language-btn {
      background: rgba(100, 149, 237, 0.2);
      border-color: rgba(100, 149, 237, 0.3);
    }

    .language-btn:hover {
      background: rgba(100, 149, 237, 0.3);
      border-color: rgba(100, 149, 237, 0.5);
    }

    /* Get Started Button Specific Styling */
    .get-started-btn {
      background: linear-gradient(135deg, rgba(255, 72, 0, 0.3), rgba(255, 165, 0, 0.3));
      border-color: rgba(255, 72, 0, 0.4);
      font-weight: 600;
    }

    .get-started-btn:hover {
      background: linear-gradient(135deg, rgba(255, 72, 0, 0.4), rgba(255, 165, 0, 0.4));
      border-color: rgba(255, 72, 0, 0.6);
    }

    /* Icon styling */
    .btn-icon {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    /* Responsive adjustments for glass bar */
    @media (max-width: 768px) {
      .glass-navbar {
        bottom: 15px;
        padding: 10px 15px;
        gap: 10px;
      }

      .glass-btn {
        padding: 8px 16px;
        min-width: 80px;
        gap: 6px;
      }
    }

    @media (max-width: 480px) {
      .glass-navbar {
        bottom: 10px;
        padding: 8px 12px;
        gap: 8px;
        width: clamp(260px, 90vw, 320px);
      }

      .glass-btn {
        padding: 6px 12px;
        min-width: 70px;
        gap: 4px;
      }

      .btn-icon {
        width: 14px;
        height: 14px;
      }
    }
  </style>
</head>

<body>
  <canvas id="c"></canvas>
  <div id="labels">
    Planetskool
  </div>

  <!-- Glass Navigation Bar -->
  <nav class="glass-navbar" id="glassNavbar">
    <button class="glass-btn language-btn" id="languageBtn">
      <svg class="btn-icon" viewBox="0 0 24 24">
        <path
          d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z" />
      </svg>
      Language
    </button>

    <a href="https://planetskool.org/signin" class="glass-btn get-started-btn" target="_blank">
      <svg class="btn-icon" viewBox="0 0 24 24">
        <path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" />
      </svg>
      Get Started
    </a>
  </nav>

  <script src="https://unpkg.com/three@0.136.0/build/three.min.js"></script>
  <script>
    // === GLOBAL VARIABLES FOR 3D SCENE === //
    let scene;
    let camera;
    let renderer;
    let earthMesh;    // Earth sphere mesh
    let cloudMesh;    // Cloud layer mesh  
    let starMesh;     // Background starfield mesh

    function main() {
      // === VIEWPORT RESPONSIVE CANVAS SETUP === //
      const canvas = document.querySelector('#c');

      // === 1. CREATE 3D SCENE === //
      scene = new THREE.Scene();

      // === 2. RESPONSIVE CAMERA SETUP === //
      // FOV adjusted for better viewport coverage on all devices
      camera = new THREE.PerspectiveCamera(
        50, // Wider field of view for better mobile/tablet experience
        window.innerWidth / window.innerHeight, // Aspect ratio matches viewport
        0.1,
        1000
      );
      camera.position.z = 2; // Camera distance from Earth
      scene.add(camera);

      // === 3. FULL VIEWPORT RENDERER SETUP === //
      renderer = new THREE.WebGLRenderer({
        canvas: canvas,
        antialias: true, // Smooth edges for better quality
      });

      // RESPONSIVE: Renderer matches full viewport size
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Performance optimization
      renderer.autoClear = false;
      renderer.setClearColor(0x000000, 0.0); // Transparent background

      // SHADOW SYSTEM: Enable realistic shadow casting for day/night effect
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap; // Soft, realistic shadows

      // === 4. EARTH GEOMETRY WITH HIGH DETAIL === //
      const earthGeometry = new THREE.SphereGeometry(0.4, 64, 64); // High-res sphere

      // === EARTH MATERIAL: REALISTIC DAY/NIGHT SURFACE PROPERTIES === //
      const earthMaterial = new THREE.MeshPhongMaterial({
        // Surface texture and bump mapping
        map: THREE.ImageUtils.loadTexture('texture/world.jpg'),      // Earth surface texture
        bumpMap: THREE.ImageUtils.loadTexture('texture/earthbump.jpg'), // Height/terrain details
        bumpScale: 0.3, // Subtle terrain elevation effect

        // LIGHTING PROPERTIES for realistic day/night effect
        roughness: 0.8,   // Earth surface is not perfectly smooth
        metalness: 0.1,   // Slight metallic property for water reflection
        shininess: 5,     // Low shininess - Earth is not glossy like a mirror
        specular: new THREE.Color(0x111111), // Dark specular - land doesn't reflect much light
      });

      earthMesh = new THREE.Mesh(earthGeometry, earthMaterial);
      earthMesh.castShadow = true;    // Earth casts shadows
      earthMesh.receiveShadow = true; // Earth receives shadows from clouds
      scene.add(earthMesh);

      // === 5. REALISTIC DAY/NIGHT LIGHTING SYSTEM === //

      // SPACE AMBIENT LIGHT: Very minimal - space is mostly dark
      const ambientLight = new THREE.AmbientLight(0x404040, 0.03); // Very dim gray light
      scene.add(ambientLight);

      // SUN LIGHT: Primary light source creating the "day" side
      const sunLight = new THREE.DirectionalLight(0xffffff, 1.5); // Bright white light
      sunLight.position.set(5, 3, 5); // Sun position - creates day side illumination
      sunLight.castShadow = true; // Sun creates shadows

      // Shadow quality settings for realistic shadow casting
      sunLight.shadow.mapSize.width = 2048;  // High shadow resolution
      sunLight.shadow.mapSize.height = 2048;
      sunLight.shadow.camera.near = 0.5;
      sunLight.shadow.camera.far = 50;
      scene.add(sunLight);

      // NIGHT SIDE ILLUMINATION: Subtle light for dark areas
      const nightLight = new THREE.DirectionalLight(0x1a2a4a, 0.06); // Cool blue-gray light
      nightLight.position.set(-5, -2, -3); // Opposite side of sun - creates "night" glow
      scene.add(nightLight);

      // CITY LIGHTS EFFECT: Warm glow on night side (simulating city lights)
      const cityLights = new THREE.PointLight(0xffaa44, 0.12, 8); // Warm amber light
      cityLights.position.set(-2.5, 0, 0); // Positioned on night side of Earth
      scene.add(cityLights);

      // ATMOSPHERIC GLOW: Subtle rim lighting effect
      const atmosphereLight = new THREE.PointLight(0x4488ff, 0.08, 6); // Blue atmospheric glow
      atmosphereLight.position.set(0, 2, -2); // Creates subtle edge lighting
      scene.add(atmosphereLight);

      // === 6. CLOUD LAYER WITH REALISTIC PROPERTIES === //
      const cloudGeometry = new THREE.SphereGeometry(0.4, 64, 64); // Slightly larger than Earth
      const cloudMaterial = new THREE.MeshPhongMaterial({
        map: THREE.ImageUtils.loadTexture('texture/Earth-clouds.png'),
        transparent: true,
        opacity: 0.4,        // Semi-transparent for realistic cloud effect
        depthWrite: false,    // Prevents rendering conflicts with Earth surface

        // CLOUD LIGHTING: Clouds reflect sunlight brightly on day side
        shininess: 80,        // Clouds can be quite reflective when lit
        specular: new THREE.Color(0x666666), // Moderate specular reflection
      });

      cloudMesh = new THREE.Mesh(cloudGeometry, cloudMaterial);
      cloudMesh.castShadow = true;  // Clouds cast shadows on Earth surface
      scene.add(cloudMesh);

      // === 7. RESPONSIVE STARFIELD BACKGROUND === //
      const starGeometry = new THREE.SphereGeometry(100, 64, 64); // Large background sphere
      const starMaterial = new THREE.MeshBasicMaterial({
        map: THREE.ImageUtils.loadTexture('texture/HDR_multi_nebulae.jpg'),
        side: THREE.BackSide, // Render inner surface - we're inside the sphere
      });

      starMesh = new THREE.Mesh(starGeometry, starMaterial);
      scene.add(starMesh);

      // === SMOOTH RESPONSIVE EARTH ANIMATION === //
      const animate = () => {
        requestAnimationFrame(animate);

        // EARTH ROTATION: Slow, realistic rotation with smooth interpolation
        earthMesh.rotation.y -= 0.001;

        // CLOUD ROTATION: Independent weather movement
        cloudMesh.rotation.y += 0.0012;

        // STARFIELD ROTATION: Subtle cosmic drift
        starMesh.rotation.y += 0.0002;

        // SMOOTH RESPONSIVE SCALING: Earth scales smoothly with viewport changes
        const scaleX = Math.min(window.innerWidth / 1920, 1.2);  // Max scale 1.2x
        const scaleY = Math.min(window.innerHeight / 1080, 1.2); // Max scale 1.2x
        const smoothScale = (scaleX + scaleY) / 2; // Average for balanced scaling

        // Apply smooth scaling with easing
        const targetScale = 0.8 + (smoothScale * 0.4); // Scale between 0.8 and 1.2
        const currentScale = earthMesh.scale.x;
        const newScale = currentScale + (targetScale - currentScale) * 0.02; // Smooth transition

        earthMesh.scale.setScalar(newScale);
        cloudMesh.scale.setScalar(newScale * 1.025); // Clouds slightly larger

        render();
      };

      // === 9. RENDER FUNCTION === //
      const render = () => {
        renderer.render(scene, camera);
      };

      // === 10. ENHANCED RESPONSIVE RESIZE HANDLER === //
      const handleResize = () => {
        // Update camera to match new viewport dimensions
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();

        // Smooth renderer resize
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // SMOOTH RESPONSIVE CAMERA POSITIONING
        const aspectRatio = window.innerWidth / window.innerHeight;

        if (aspectRatio < 0.8) {
          // Portrait mode (mobile vertical) - move camera back for better view
          camera.position.z = 2.8;
        } else if (aspectRatio < 1.2) {
          // Square-ish screens (tablets)
          camera.position.z = 2.3;
        } else {
          // Landscape mode (desktop/mobile horizontal)
          camera.position.z = 2;
        }

        // Smooth camera transition
        camera.updateProjectionMatrix();
      };

      // RESPONSIVE EVENT LISTENERS with debouncing for smooth performance
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(handleResize, 16); // 60fps smooth resize
      });

      window.addEventListener('orientationchange', () => {
        setTimeout(handleResize, 500); // Handle mobile rotation
      });

      // Start the animation loop
      animate();
    }

    // === INITIALIZATION: Start everything when page loads === //
    window.onload = () => {
      main(); // Initialize 3D scene

      // Show text labels after scene is ready
      setTimeout(() => {
        document.getElementById('labels').style.display = 'block';
      }, 100);
    };

    // === GLASS BAR FUNCTIONALITY === //

    // Language toggle function (placeholder - no actual language change)
    function toggleLanguage() {
      // This is a placeholder function - no language changes implemented
      // Just visual feedback for the button press
      const btn = event.target;
      btn.style.background = 'rgba(255, 255, 255, 0.3)';
      setTimeout(() => {
        btn.style.background = 'rgba(255, 255, 255, 0.1)';
      }, 200);

      console.log('Language button clicked - no language change implemented');
    }

    // === PERFORMANCE & UX OPTIMIZATIONS === //

    // Prevent right-click context menu for immersive experience
    document.addEventListener('contextmenu', (e) => e.preventDefault());

    // Handle page visibility changes for performance
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        console.log('Page hidden - animation continues');
      } else {
        console.log('Page visible - full performance');
      }
    });

    // Smooth scroll prevention for full-screen experience
    document.addEventListener('wheel', (e) => {
      e.preventDefault();
    }, { passive: false });

    // Touch handling for mobile devices
    document.addEventListener('touchmove', (e) => {
      if (e.touches.length > 1) {
        e.preventDefault(); // Prevent pinch zoom
      }
    }, { passive: false });
  </script>
</body>

</html>
